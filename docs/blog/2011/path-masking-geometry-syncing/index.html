<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Path masking and geometry syncing | PCSX2</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://pcsx2.net/pcsx2-net-www/blog/2011/path-masking-geometry-syncing"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Path masking and geometry syncing | PCSX2"><meta data-rh="true" name="description" content="I promised myself ages ago I would write a blog about this"><meta data-rh="true" property="og:description" content="I promised myself ages ago I would write a blog about this"><meta data-rh="true" property="og:image" content="https://pcsx2.net/pcsx2-net-www/assets/images/feature-personapath3-e5e6412fd203203c05104505c99be466.webp"><meta data-rh="true" name="twitter:image" content="https://pcsx2.net/pcsx2-net-www/assets/images/feature-personapath3-e5e6412fd203203c05104505c99be466.webp"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2011-09-02T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/refractionpcsx2"><meta data-rh="true" property="article:tag" content="devblog"><link data-rh="true" rel="icon" href="/pcsx2-net-www/img/favicon.webp"><link data-rh="true" rel="canonical" href="https://pcsx2.net/pcsx2-net-www/blog/2011/path-masking-geometry-syncing"><link data-rh="true" rel="alternate" href="https://pcsx2.net/pcsx2-net-www/blog/2011/path-masking-geometry-syncing" hreflang="en"><link data-rh="true" rel="alternate" href="https://pcsx2.net/pcsx2-net-www/blog/2011/path-masking-geometry-syncing" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/pcsx2-net-www/blog/rss.xml" title="PCSX2 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/pcsx2-net-www/blog/atom.xml" title="PCSX2 Atom Feed">
<link rel="alternate" type="application/json" href="/pcsx2-net-www/blog/feed.json" title="PCSX2 JSON Feed">





<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Roboto+Mono:wght@400;700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><link rel="stylesheet" href="/pcsx2-net-www/assets/css/styles.8125b5be.css">
<link rel="preload" href="/pcsx2-net-www/assets/js/runtime~main.7af88f7a.js" as="script">
<link rel="preload" href="/pcsx2-net-www/assets/js/main.2a526e38.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div data-overlay-container="true"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pcsx2-net-www/"><div class="navbar__logo"><img src="/pcsx2-net-www/img/logo.webp" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/pcsx2-net-www/img/logo.webp" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">PCSX2</b></a><a class="navbar__item navbar__link" href="/pcsx2-net-www/downloads">Download</a><a class="navbar__item navbar__link" href="/pcsx2-net-www/compat">Compatibility</a><a class="navbar__item navbar__link" href="/pcsx2-net-www/docs/">Documentation</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/pcsx2-net-www/blog">Blog</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/pcsx2-net-www/blog/tags/progress-report">Progress Reports</a></li><li><a class="dropdown__link" href="/pcsx2-net-www/blog/tags/devblog">Developer Blogs</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="nextui-c-iWjDFM nextui-c-PJLV nextui-c-iWjDFM-hkKLfu-color-default nextui-c-iWjDFM-gkIlwi-size-md nextui-c-iWjDFM-cwXrJp-borderWeight-normal nextui-c-iWjDFM-exaRme-auto-true nextui-c-iWjDFM-gglxka-cv nextui-c-PJLV-gulvcB-isFocusVisible-false nextui-c-iWjDFM-iiPoHku-css nextui-button nextui-button--ready" data-state="ready" role="button" tabindex="0" href="https://github.com/sponsors/PCSX2" target="_blank" type="button" rel="noreferrer"><span class="nextui-c-bDGMeb nextui-c-bDGMeb-jzMUFa-isAuto-true nextui-c-bDGMeb-hjqCeZ-cv nextui-c-bDGMeb-iPJLV-css nextui-button-icon"><svg stroke="currentColor" fill="var(--nextui-colors-red600)" stroke-width="0" viewBox="0 0 12 16" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M9 2c-.97 0-1.69.42-2.2 1-.51.58-.78.92-.8 1-.02-.08-.28-.42-.8-1-.52-.58-1.17-1-2.2-1-1.632.086-2.954 1.333-3 3 0 .52.09 1.52.67 2.67C1.25 8.82 3.01 10.61 6 13c2.98-2.39 4.77-4.17 5.34-5.33C11.91 6.51 12 5.5 12 5c-.047-1.69-1.342-2.913-3-3z"></path></svg></span><div class="nextui-button-text nextui-button-text-left">Donate</div></a><a href="https://forums.pcsx2.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Forums</a><a href="https://wiki.pcsx2.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Wiki</a><a href="https://discord.com/invite/TCz3t9k" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link" aria-label="PCSX2 Discord Server"></a><a href="https://github.com/PCSX2/pcsx2" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="PCSX2 GitHub repository"></a><a href="https://twitter.com/PCSX2" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link" aria-label="PCSX2 Twitter"></a><a href="https://www.youtube.com/user/PCSX2team" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-youtube-link" aria-label="PCSX2 YouTube channel"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://pcsx2.net/pcsx2-net-www/assets/images/feature-personapath3-e5e6412fd203203c05104505c99be466.webp"><header><h1 class="title_f1Hy" itemprop="headline">Path masking and geometry syncing</h1><div class="container_mt6G margin-vert--md"><time datetime="2011-09-02T00:00:00.000Z" itemprop="datePublished">September 2, 2011</time> Â· <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/refractionpcsx2" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/refractionpcsx2.png" alt="Refraction"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/refractionpcsx2" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Refraction</span></a></div></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>I promised myself ages ago I would write a blog about this, more for the
PS2 community than anything else as this seems to be almost a dark art
in terms of understanding how it works.</p><p>Some of you may be familiar with Path 3 masking, some of you may not. In
any versions around 0.9.4 or older, have you ever played a game where
say some of the floor textures have had writing on them or just looked
like absolute crap? Well the likelihood is that was due to Path 3
Masking problems. For those not familiar, here is a picture example of
Persona 4 displaying Path 3 masking issues.</p><p><img loading="lazy" src="/pcsx2-net-www/assets/images/personapath3-e5e6412fd203203c05104505c99be466.webp" width="1000" height="596" class="img_ev3q"></p><p><strong>So, what is it exactly?</strong></p><p>Path 3 masking is a method of synchronizing the order in which geometry
data (polygons etc) and the textures that go on them are sent to the GS
(Graphical Synthesizer). It was a pretty efficient method of
transferring information, which took completely different path routes to
make optimal use of the PS2 Memory BUS and used a stalling method to
keep the texture and geometry lists in order instead of interrupts which
took extra cpu time. This way, developers could queue up massive amounts
of textures and stream them to the GS in time with the geometry data
efficiently.</p><p>Here is a badly drawn diagram showing what the Mask does:</p><p><img loading="lazy" src="data:image/webp;base64,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" width="506" height="203" class="img_ev3q"></p><p>As you can see, the mask stops PATH3 from transferring while the VU is
busy, then lets it go and almost immediately puts the mask back on, this
ensures that at the end of the texture transfer, PATH3 stops again!</p><p><strong>So what was the problem? Why did everything look like crap?</strong></p><p>Truthfully? we never had proper control over these packets. The GIF
packets can come through the PATH3 DMA channel lumped together, where in
actual fact, we should have been stalling half way through it, but in
the emulator, we didn&#x27;t really care what these packets were, so we just
threw it all at the GS and ignored any packet ends and this is what
caused the Texture/Geometry lists to go out of sync, this is where the
crap on the screen came from. As the emulator evolved it became
progressively easier to fix this issue, although we had the theory down,
developers would handle it in different ways with different timings for
the masks, so it took a fair amount of testing and tweaking to get
right.</p><p>Fortunately these days we have got this pretty much solved and we
completely analyze the GIF Packets before sending them on their way, so
we know where we can stop the transfers, however we do still get the odd
time where this rears its ugly head, due to how we have to time
everything perfectly, but due to the nature of emulators, timing is
painful to get correct and will probably never be so. Generally however,
using gamefixes such as &quot;EE Timing Fix&quot; can get around these issues,
without compromising too much on stability.</p><p><strong><a href="https://forums.pcsx2.net/thread-24047.html" target="_blank" rel="noopener noreferrer">Post a Comment!</a></strong></p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/pcsx2-net-www/blog/tags/devblog">devblog</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/PCSX2/pcsx2-net-www/tree/master/blog/2011/path-masking-geometry-syncing/index.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/pcsx2-net-www/blog/2011/a-farewell-from-cottonvibes"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">A Farewell From Cottonvibes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pcsx2-net-www/blog/2011/threading-vu1"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Threading Vu1</div></a></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/pcsx2-net-www/downloads">Downloads</a></li><li class="footer__item"><a class="footer__link-item" href="/pcsx2-net-www/compat">Compatibility</a></li><li class="footer__item"><a class="footer__link-item" href="/pcsx2-net-www/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/pcsx2-net-www/blog">Blog</a></li><li class="footer__item"><a href="https://forums.pcsx2.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stats.uptimerobot.com/GAg8AuBByx" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contribute</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/sponsors/PCSX2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/PCSX2/pcsx2" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/TCz3t9k" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forums.pcsx2.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/PCSX2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/user/PCSX2team" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/pcsx2-net-www/privacy">Privacy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 PCSX2. All Rights Reserved.</div></div></div></footer></div></div>
<script src="/pcsx2-net-www/assets/js/runtime~main.7af88f7a.js"></script>
<script src="/pcsx2-net-www/assets/js/main.2a526e38.js"></script>
</body>
</html>